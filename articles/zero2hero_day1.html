<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Retro AI</title>

<head>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="header">
        <h1><a href="../index.html">L'IA dans les jeux vidéos</a></h1>
                <a href="https://www.linkedin.com/in/gaetansoppe" target="_blank"><i style="font-size:24px" class="fa">&#xf08c;</i></a>
                &nbsp;
                &nbsp;
                <a href="mailto:gaetan.soppe@gmail.com?subject=Contact" target="_blank"><i style="font-size:24px" class="fa">&#xf0e0;</i></a>
                &nbsp;
                &nbsp;
				<a href="../coders_digest_list.html">[Coder's Digest]</a>
        <hr>
        </div>
    <div>
        <p>&nbsp;</p><p>&nbsp;</p>
        <p><b>28/04/2024 : <u>Message et State Machine</u></b></p>
        <p>
La premiere etape est de creer un Agent. Cette classe represente l'agent intelligent, qui va reagir aux actions du monde et du joueur.<br/>
Ajouter une classe Agent. On ajoute quelques lignes de code pour pouvoir interagir avec l'agent.<br/>
Une fonction d'initialisation, une update et un arret (je suis les conventions de nommage de chez Insomniac Games pour info, <a href="https://gist.github.com/Kerollmops/fcad27cfef9e3552cb75a3d201494ba6#initshutdown">vous pouvez les trouver ici</a>)<br/>
Les fonctions d'init et d'arret ne feront rien pour le moment, et l'update nous servira juste pour afficher du debug.<br/>
Le code actuel dans la classe Agent:</p>
<p>
<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28255%2C255%2C255%2C0%29&t=material&wt=boxy&l=text%2Fx-c%2B%2Bsrc&width=950&ds=false&dsyoff=20px&dsblur=68px&wc=true&wa=false&pv=0px&ph=0px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=true&code=%2523pragma%2520once%250A%250Aclass%2520Agent%250A%257B%250Apublic%253A%250A%2509Agent%28%29%253B%250A%2509%7EAgent%28%29%253B%250A%250A%2509void%2520Init%28%29%253B%250A%2509void%2520Update%28%2520const%2520float%2520_dt%2520%29%253B%250A%2509void%2520Shutdown%28%29%253B%250A%257D%253B%250A"
  style="width: 950px; height: 299px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>
<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28255%2C255%2C255%2C0%29&t=material&wt=boxy&l=text%2Fx-c%2B%2Bsrc&width=950&ds=false&dsyoff=20px&dsblur=68px&wc=true&wa=false&pv=0px&ph=0px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=true&code=%2523include%2520%2522stdafx.h%2522%250A%2523include%2520%2522Agent.h%2522%250A%250AAgent%253A%253AAgent%28%29%2520%253D%2520default%253B%250AAgent%253A%253A%7EAgent%28%29%2520%253D%2520default%253B%250A%250Avoid%2520Agent%253A%253AInit%28%29%250A%257B%250A%250A%257D%250A%250Avoid%2520Agent%253A%253AUpdate%28%2520const%2520float%2520_dt%2520%29%250A%257B%250A%2509std%253A%253Acout%2520%253C%253C%2520%2522Je%2520parle%2520%28%2522%2520%253C%253C%2520_dt%2520%253C%253C%2520%2522%29%2522%2520%253C%253C%2520std%253A%253Aendl%253B%250A%257D%250A%250Avoid%2520Agent%253A%253AShutdown%28%29%250A%257B%250A%250A%257D%250A"
  style="width: 950px; height: 448px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>
</p>

<p>Dans le main, on appelle juste une fois l'update:</p>

<p>
<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28255%2C255%2C255%2C0%29&t=material&wt=boxy&l=text%2Fx-c%2B%2Bsrc&width=950&ds=false&dsyoff=20px&dsblur=68px&wc=true&wa=false&pv=0px&ph=0px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=true&code=%2523include%2520%2522stdafx.h%2522%250A%250A%2523include%2520%2522AI%255CAgent%255CAgent.h%2522%250A%250Aint%2520main%28%29%250A%257B%250A%2509Agent%2520a%253B%250A%2509a.Update%28%25200.033f%2520%29%253B%250A%250A%2509system%28%2520%2522pause%2522%2520%29%253B%250A%2509return%25200%253B%250A%257D%250A"
  style="width: 950px; height: 299px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>
</p>

<p>Et le résultat:</p>
<p><img src="img/result_agent_init.png" alt="Résultat"></p>

<p>Donc tout marche, on a les bases.</p>
<p>Maintenant, on va ajouter une state machine. C'est un systeme assez basique qui permet de changer d'etat (les states), d'en rajouter, d'en enlever et le tout de facon generique.<br/>
Ca principale qualité de mon point de vue est aussi de cadrer les appels d'initialisation, d'arret des differents etats, donc de pouvoir nettoyer la memoire correctement, preparer les variables, etc.

        </p>
    </div>

<div class="footer">
    <small>
	<hr>
        ©2023 Gaetan Soppe - All rights reserved
    </small>
</div>
  
</body>
</html>